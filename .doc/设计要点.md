📊 当前平台核心优势

  我们已经有了一个企业级物联网设备管理平台的完整底层架构：
  - ✅ 多租户组织管理 - 支持企业客户独立空间
  - ✅ 精细化权限控制 - 基于Casbin的RBAC模型
  - ✅ 实时消息通信 - WebSocket推送能力
  - ✅ 层级化管理架构 - 用户组+终端组的树形结构

  🏗️ 第一阶段：基于现有架构的MVP产品

  主要页面设计思路

  1. 🏢 组织管理控制台（管理员视角）
  页面核心内容：
  ├── 组织概览卡片
  │   ├── 设备总数统计
  │   ├── 在线设备数
  │   ├── 用户总数
  │   └── 告警数量
  ├── 组织架构管理
  │   ├── 部门/项目树形结构（基于user_group）
  │   ├── 设备分组树形结构（基于terminal_group）
  │   └── 权限绑定可视化
  └── 快速操作区
      ├── 添加用户/部门
      ├── 批量设备导入
      └── 权限模板配置

  设计要点：
  - 利用现有的user_group和terminal_group层级结构
  - 权限绑定表达式可视化（INCLUDE/EXCLUDE逻辑）
  - 一目了然的组织架构图

  2. 👥 用户权限管理页面
  页面核心内容：
  ├── 用户列表（基于current user API）
  │   ├── 用户基本信息（姓名、角色、状态）
  │   ├── 所属部门显示
  │   ├── 权限范围预览
  │   └── 操作按钮（编辑、封禁、删除）
  ├── 角色管理区域
  │   ├── 系统预定义角色（root、org_manager等）
  │   ├── 自定义角色创建
  │   └── 角色权限配置
  └── 权限绑定控制台
      ├── 用户组↔设备组绑定关系
      ├── 权限表达式编辑器
      └── 权限继承关系图

  设计要点：
  - 直接复用现有的role管理API
  - 权限表达式可视化编辑（不需要写代码）
  - 权限继承关系清晰展示

  3. 📱 设备管理中心（核心业务页面）
  页面核心内容：
  ├── 设备总览dashboard
  │   ├── 设备状态分布图
  │   ├── 地理位置分布
  │   ├── 实时告警流（基于message-service）
  │   └── 关键指标趋势
  ├── 设备组织架构
  │   ├── 终端组树形结构（复用terminal_group）
  │   ├── 设备列表（按组展示）
  │   ├── 批量操作功能
  │   └── 设备详情面板
  └── 实时控制面板
      ├── 单设备控制
      ├── 批量设备控制
      ├── 定时任务设置
      └── 场景模式配置

  设计要点：
  - 重点是设备实体管理（这是我们需要新增的核心业务）
  - 充分利用terminal_group的层级结构
  - 实时状态基于message-service的WebSocket

  4. 💬 消息通知中心
  页面核心内容：
  ├── 实时消息流
  │   ├── 设备告警消息
  │   ├── 任务执行通知
  │   ├── 系统公告
  │   └── 用户操作日志
  ├── 消息管理
  │   ├── 消息模板管理
  │   ├── 通知规则配置
  │   ├── 消息历史查询
  │   └── 推送渠道设置
  └── 在线用户状态
      ├── 用户在线状态
      ├── 消息到达率统计
      └── 系统通知发布

  设计要点：
  - 直接基于现有message-service能力
  - 重点展示业务价值（设备告警、任务通知）


💡 关键产品决策建议

  1. 优先级排序

  🔥 最高优先级：设备实体管理 + 基础控制
  ⚡ 高优先级：实时状态监控 + 告警处理
  📊 中优先级：数据分析 + 报表功能
  🚀 低优先级：AI智能 + 生态集成

  2. 技术债务处理

  - 充分利用现有架构：不要重构，在现有基础上扩展
  - 设备模型设计：复用terminal_group结构，设备作为终端组的叶子节点
  - 权限继承：设备权限直接继承所在terminal_group的权限

  3. 用户体验策略

  - 管理员视角：重点是组织架构和权限管理的可视化
  - 操作员视角：重点是设备状态监控和快速操作
  - 现场人员视角：重点是移动端的简化操作

  🎯 MVP产品核心页面总结

  基于当前架构，我们的MVP产品应该包含：

  1. 🏢 组织管理控制台 - 基于现有user_group/terminal_group
  2. 👥 用户权限管理 - 基于现有role/permission体系
  3. 📱 设备管理中心 - 新增设备实体，复用terminal_group结构
  4. 💬 消息通知中心 - 直接使用现有message-service
  5. 📊 数据统计面板 - 基础的统计和报表功能