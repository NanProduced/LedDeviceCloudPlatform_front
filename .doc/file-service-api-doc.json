{
    "openapi": "3.0.1",
    "info": {
        "title": "OpenAPI definition",
        "version": "v0"
    },
    "servers": [
        {
            "url": "http://192.168.1.222:8086",
            "description": "Generated server url"
        }
    ],
    "tags": [
        {
            "name": "文件上传",
            "description": "文件上传相关接口"
        },
        {
            "name": "文件预览",
            "description": "统一文件预览接口"
        }
    ],
    "paths": {
        "/file/upload/single": {
            "post": {
                "tags": [
                    "素材管理",
                    "文件上传"
                ],
                "summary": "异步上传单个文件",
                "description": "异步上传单个文件，立即返回任务ID",
                "operationId": "uploadSingleAsync",
                "parameters": [
                    {
                        "name": "uploadRequest",
                        "in": "query",
                        "description": "上传参数",
                        "required": true,
                        "schema": {
                            "$ref": "#/components/schemas/FileUploadRequest"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "type": "object",
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "description": "上传的文件",
                                        "format": "binary"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskInitResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/upload/check-duplicate": {
            "post": {
                "tags": [
                    "内部接口",
                    "文件上传"
                ],
                "summary": "MD5文件去重检查",
                "description": "检查文件是否已存在以实现去重",
                "operationId": "checkFileDuplicate",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FileExistenceCheckRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileExistenceCheckResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/upload/supported-types": {
            "get": {
                "tags": [
                    "文件上传"
                ],
                "summary": "服务器支持的文件类型",
                "description": "获取服务器支持的文件类型列表",
                "operationId": "getSupportedFileTypes",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/SupportedFileTypesResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/upload/progress/{taskId}": {
            "get": {
                "tags": [
                    "素材管理",
                    "文件上传"
                ],
                "summary": "查询上传进度",
                "description": "根据任务Id查询任务具体进度",
                "operationId": "getUploadProgress",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "上传任务ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/UploadProgressResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/transcode/presets": {
            "get": {
                "tags": [
                    "转码操作",
                    "Transcoding(转码)"
                ],
                "summary": "获取转码预设列表",
                "description": "给前端返回转码预设列表",
                "operationId": "getPresets",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/TranscodingPresetResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/transcode/presets/{id}": {
            "get": {
                "tags": [
                    "转码操作",
                    "Transcoding(转码)"
                ],
                "summary": "按ID获取转码预设",
                "operationId": "getPresetById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/PresetInfo"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/transcode/presets/{id}/parameters": {
            "get": {
                "tags": [
                    "转码操作",
                    "Transcoding(转码)"
                ],
                "summary": "将预设展开为可编辑参数模板",
                "operationId": "getPresetParameters",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/TranscodingParameters"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/preview/{fileId}": {
            "get": {
                "tags": [
                    "素材管理",
                    "文件预览",
                    "素材预览"
                ],
                "summary": "统一素材预览接口",
                "description": "支持图片直接预览和视频截帧预览，专为节目编辑器设计的高性能接口",
                "operationId": "previewFile",
                "parameters": [
                    {
                        "name": "fileId",
                        "in": "path",
                        "description": "文件ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "w",
                        "in": "query",
                        "description": "输出宽度（像素）",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        },
                        "example": 300
                    },
                    {
                        "name": "h",
                        "in": "query",
                        "description": "输出高度（像素）",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        },
                        "example": 300
                    },
                    {
                        "name": "fit",
                        "in": "query",
                        "description": "适应方式",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "cover"
                        },
                        "example": "cover"
                    },
                    {
                        "name": "format",
                        "in": "query",
                        "description": "输出格式",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "jpg"
                        },
                        "example": "jpg"
                    },
                    {
                        "name": "q",
                        "in": "query",
                        "description": "图片质量 1-100",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "default": 85
                        },
                        "example": 85
                    },
                    {
                        "name": "t",
                        "in": "query",
                        "description": "视频时间点（秒）",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "format": "double",
                            "default": 1.0
                        },
                        "example": 1.0
                    },
                    {
                        "name": "frame",
                        "in": "query",
                        "description": "视频帧数（替代t参数）",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/file/preview/stream/{fileId}": {
            "get": {
                "tags": [
                    "素材管理",
                    "文件预览",
                    "素材预览"
                ],
                "summary": "素材流式文件播放",
                "description": "支持Range请求的视频流式播放接口，用于视频预览播放",
                "operationId": "streamFile",
                "parameters": [
                    {
                        "name": "fileId",
                        "in": "path",
                        "description": "文件ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/preview/info/{fileId}": {
            "get": {
                "tags": [
                    "素材管理",
                    "文件预览"
                ],
                "summary": "获取文件信息",
                "description": "获取文件的基础信息，不返回文件内容",
                "operationId": "getFileInfo",
                "parameters": [
                    {
                        "name": "fileId",
                        "in": "path",
                        "description": "文件ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileInfo"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/file/preview/download/{fileId}": {
            "get": {
                "tags": [
                    "素材管理",
                    "文件预览"
                ],
                "summary": "原始文件下载",
                "description": "下载文件的原始版本，保持原有格式和质量",
                "operationId": "downloadFile",
                "parameters": [
                    {
                        "name": "fileId",
                        "in": "path",
                        "description": "文件ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "attachment",
                        "in": "query",
                        "description": "是否强制下载（attachment）",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "FileUploadRequest": {
                "type": "object",
                "properties": {
                    "folderId": {
                        "type": "string",
                        "description": "目标文件夹ID",
                        "example": "folder001"
                    },
                    "ugid": {
                        "type": "integer",
                        "description": "目标用户组根目录",
                        "format": "int64",
                        "example": 12
                    },
                    "materialName": {
                        "maxLength": 200,
                        "minLength": 0,
                        "type": "string",
                        "description": "素材名称",
                        "example": "宣传视频"
                    },
                    "description": {
                        "maxLength": 500,
                        "minLength": 0,
                        "type": "string",
                        "description": "文件描述",
                        "example": "宣传视频素材"
                    }
                },
                "description": "文件上传请求"
            },
            "TaskInitResponse": {
                "type": "object",
                "properties": {
                    "taskId": {
                        "type": "string"
                    },
                    "taskType": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    },
                    "filename": {
                        "type": "string"
                    },
                    "fileSize": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "organizationId": {
                        "type": "string"
                    },
                    "userId": {
                        "type": "string"
                    },
                    "estimatedDuration": {
                        "type": "string"
                    },
                    "createTime": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "progressSubscriptionUrl": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    }
                }
            },
            "FileExistenceCheckRequest": {
                "type": "object",
                "properties": {
                    "md5Hash": {
                        "type": "string"
                    },
                    "organizationId": {
                        "type": "string"
                    }
                }
            },
            "FileExistenceCheckResponse": {
                "type": "object",
                "properties": {
                    "exists": {
                        "type": "boolean"
                    },
                    "existingFile": {
                        "$ref": "#/components/schemas/FileUploadResponse"
                    }
                }
            },
            "FileMetadata": {
                "type": "object",
                "properties": {
                    "duration": {
                        "type": "integer",
                        "description": "视频时长（秒）",
                        "format": "int32",
                        "example": 120
                    },
                    "width": {
                        "type": "integer",
                        "description": "视频宽度",
                        "format": "int32",
                        "example": 1920
                    },
                    "height": {
                        "type": "integer",
                        "description": "视频高度",
                        "format": "int32",
                        "example": 1080
                    },
                    "frameRate": {
                        "type": "number",
                        "description": "帧率",
                        "format": "double",
                        "example": 30
                    },
                    "bitrate": {
                        "type": "integer",
                        "description": "比特率",
                        "format": "int64",
                        "example": 5000
                    },
                    "codec": {
                        "type": "string",
                        "description": "编码格式",
                        "example": "H.264"
                    },
                    "sampleRate": {
                        "type": "integer",
                        "description": "音频采样率",
                        "format": "int32",
                        "example": 44100
                    },
                    "channels": {
                        "type": "integer",
                        "description": "音频通道数",
                        "format": "int32",
                        "example": 2
                    },
                    "dpi": {
                        "type": "integer",
                        "description": "图片DPI",
                        "format": "int32",
                        "example": 300
                    },
                    "colorSpace": {
                        "type": "string",
                        "description": "颜色空间",
                        "example": "RGB"
                    }
                },
                "description": "文件元数据"
            },
            "FileUploadResponse": {
                "type": "object",
                "properties": {
                    "fileId": {
                        "type": "string",
                        "description": "文件ID",
                        "example": "file_123456789"
                    },
                    "originalFilename": {
                        "type": "string",
                        "description": "原始文件名",
                        "example": "video.mp4"
                    },
                    "fileSize": {
                        "type": "integer",
                        "description": "文件大小（字节）",
                        "format": "int64",
                        "example": 1048576
                    },
                    "fileType": {
                        "type": "string",
                        "description": "文件类型",
                        "example": "VIDEO"
                    },
                    "mimeType": {
                        "type": "string",
                        "description": "MIME类型",
                        "example": "video/mp4"
                    },
                    "md5Hash": {
                        "type": "string",
                        "description": "文件MD5哈希值",
                        "example": "d41d8cd98f00b204e9800998ecf8427e"
                    },
                    "storagePath": {
                        "type": "string",
                        "description": "存储路径",
                        "example": "/files/2024/01/video.mp4"
                    },
                    "accessUrl": {
                        "type": "string",
                        "description": "访问URL",
                        "example": "https://cdn.example.com/files/video.mp4"
                    },
                    "thumbnailUrl": {
                        "type": "string",
                        "description": "缩略图URL",
                        "example": "https://cdn.example.com/thumbs/video_thumb.jpg"
                    },
                    "status": {
                        "type": "string",
                        "description": "上传状态",
                        "example": "SUCCESS",
                        "enum": [
                            "PENDING",
                            "UPLOADING",
                            "SUCCESS",
                            "FAILED",
                            "CANCELLED"
                        ]
                    },
                    "taskId": {
                        "type": "string",
                        "description": "上传任务ID",
                        "example": "task_123456789"
                    },
                    "transcodingTaskId": {
                        "type": "string",
                        "description": "转码任务ID",
                        "example": "transcode_123456789"
                    },
                    "uploadTime": {
                        "type": "string",
                        "description": "上传时间",
                        "format": "date-time"
                    },
                    "metadata": {
                        "$ref": "#/components/schemas/FileMetadata"
                    },
                    "errorMessage": {
                        "type": "string",
                        "description": "错误信息"
                    },
                    "instantUpload": {
                        "type": "boolean",
                        "description": "是否为秒传（文件已存在）",
                        "example": false
                    }
                },
                "description": "文件上传响应"
            },
            "FileTypeInfo": {
                "type": "object",
                "properties": {
                    "category": {
                        "type": "string",
                        "description": "文件类型分类",
                        "example": "VIDEO"
                    },
                    "extensions": {
                        "type": "array",
                        "description": "支持的扩展名",
                        "items": {
                            "type": "string",
                            "description": "支持的扩展名"
                        }
                    },
                    "mimeTypes": {
                        "type": "array",
                        "description": "MIME类型",
                        "items": {
                            "type": "string",
                            "description": "MIME类型"
                        }
                    },
                    "maxSize": {
                        "type": "integer",
                        "description": "最大文件大小",
                        "format": "int64"
                    },
                    "supportsTranscoding": {
                        "type": "boolean",
                        "description": "是否支持转码"
                    },
                    "supportsPreview": {
                        "type": "boolean",
                        "description": "是否支持预览"
                    },
                    "supportsThumbnail": {
                        "type": "boolean",
                        "description": "是否支持缩略图"
                    },
                    "description": {
                        "type": "string",
                        "description": "文件类型描述"
                    }
                },
                "description": "文件类型信息"
            },
            "SupportedFileTypesResponse": {
                "type": "object",
                "properties": {
                    "supportedTypes": {
                        "type": "object",
                        "additionalProperties": {
                            "$ref": "#/components/schemas/FileTypeInfo"
                        },
                        "description": "支持的文件类型"
                    },
                    "sizeLimits": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "integer",
                            "description": "文件大小限制",
                            "format": "int64"
                        },
                        "description": "文件大小限制"
                    },
                    "transcodingFormats": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "array",
                            "description": "支持的转码格式",
                            "items": {
                                "type": "string",
                                "description": "支持的转码格式"
                            }
                        },
                        "description": "支持的转码格式"
                    },
                    "systemConfig": {
                        "$ref": "#/components/schemas/SystemConfig"
                    }
                },
                "description": "支持的文件类型响应"
            },
            "SystemConfig": {
                "type": "object",
                "properties": {
                    "maxConcurrentUploads": {
                        "type": "integer",
                        "description": "最大并发上传数",
                        "format": "int32"
                    },
                    "recommendedChunkSize": {
                        "type": "integer",
                        "description": "推荐分块大小",
                        "format": "int64"
                    },
                    "storageStrategies": {
                        "type": "array",
                        "description": "支持的存储策略",
                        "items": {
                            "type": "string",
                            "description": "支持的存储策略"
                        }
                    },
                    "tempFileRetentionDays": {
                        "type": "integer",
                        "description": "临时文件保留时间",
                        "format": "int32"
                    },
                    "virusScanEnabled": {
                        "type": "boolean",
                        "description": "是否启用病毒扫描"
                    },
                    "contentRecognitionEnabled": {
                        "type": "boolean",
                        "description": "是否启用内容识别"
                    }
                },
                "description": "系统配置"
            },
            "QualityMetrics": {
                "type": "object",
                "properties": {
                    "avgSpeed": {
                        "type": "integer",
                        "description": "平均上传速度",
                        "format": "int64"
                    },
                    "maxSpeed": {
                        "type": "integer",
                        "description": "最大上传速度",
                        "format": "int64"
                    },
                    "minSpeed": {
                        "type": "integer",
                        "description": "最小上传速度",
                        "format": "int64"
                    },
                    "stability": {
                        "type": "number",
                        "description": "连接稳定性",
                        "format": "double"
                    },
                    "retransmissionRate": {
                        "type": "number",
                        "description": "重传率",
                        "format": "double"
                    }
                },
                "description": "上传质量指标"
            },
            "UploadProgressResponse": {
                "type": "object",
                "properties": {
                    "uploadId": {
                        "type": "string",
                        "description": "上传ID"
                    },
                    "fileName": {
                        "type": "string",
                        "description": "文件名"
                    },
                    "status": {
                        "type": "string",
                        "description": "上传状态",
                        "example": "UPLOADING"
                    },
                    "progress": {
                        "type": "number",
                        "description": "上传进度百分比",
                        "format": "double"
                    },
                    "uploadedSize": {
                        "type": "integer",
                        "description": "已上传大小",
                        "format": "int64"
                    },
                    "totalSize": {
                        "type": "integer",
                        "description": "总文件大小",
                        "format": "int64"
                    },
                    "uploadSpeed": {
                        "type": "integer",
                        "description": "上传速度",
                        "format": "int64"
                    },
                    "estimatedTimeRemaining": {
                        "type": "integer",
                        "description": "预计剩余时间",
                        "format": "int64"
                    },
                    "uploadedChunks": {
                        "type": "integer",
                        "description": "已上传分块数",
                        "format": "int32"
                    },
                    "totalChunks": {
                        "type": "integer",
                        "description": "总分块数",
                        "format": "int32"
                    },
                    "failedChunks": {
                        "type": "array",
                        "description": "失败分块列表",
                        "items": {
                            "type": "integer",
                            "description": "失败分块列表",
                            "format": "int32"
                        }
                    },
                    "startTime": {
                        "type": "string",
                        "description": "上传开始时间",
                        "format": "date-time"
                    },
                    "lastUpdateTime": {
                        "type": "string",
                        "description": "最后更新时间",
                        "format": "date-time"
                    },
                    "errorMessage": {
                        "type": "string",
                        "description": "错误信息"
                    },
                    "retryCount": {
                        "type": "integer",
                        "description": "重试次数",
                        "format": "int32"
                    },
                    "qualityMetrics": {
                        "$ref": "#/components/schemas/QualityMetrics"
                    }
                },
                "description": "上传进度响应"
            },
            "AudioConfig": {
                "type": "object",
                "properties": {
                    "bitrate": {
                        "type": "integer",
                        "description": "音频码率",
                        "format": "int32"
                    },
                    "sampleRate": {
                        "type": "integer",
                        "description": "采样率",
                        "format": "int32"
                    },
                    "channels": {
                        "type": "integer",
                        "description": "声道数",
                        "format": "int32"
                    },
                    "codec": {
                        "type": "string",
                        "description": "音频编码器",
                        "example": "aac"
                    }
                },
                "description": "音频配置"
            },
            "PresetInfo": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "预设名称",
                        "example": "HD"
                    },
                    "displayName": {
                        "type": "string",
                        "description": "预设显示名称",
                        "example": "高清(720p)"
                    },
                    "description": {
                        "type": "string",
                        "description": "预设描述"
                    },
                    "videoConfig": {
                        "$ref": "#/components/schemas/VideoConfig"
                    },
                    "audioConfig": {
                        "$ref": "#/components/schemas/AudioConfig"
                    },
                    "isDefault": {
                        "type": "boolean",
                        "description": "是否默认预设"
                    },
                    "scene": {
                        "type": "string",
                        "description": "适用场景",
                        "example": "WEB"
                    },
                    "estimatedSizeRatio": {
                        "type": "number",
                        "description": "预计文件大小比例",
                        "format": "double"
                    }
                },
                "description": "转码预设信息"
            },
            "TranscodingPresetResponse": {
                "type": "object",
                "properties": {
                    "presets": {
                        "type": "array",
                        "description": "转码预设列表",
                        "items": {
                            "$ref": "#/components/schemas/PresetInfo"
                        }
                    },
                    "supportedFormats": {
                        "type": "array",
                        "description": "支持的输出格式",
                        "items": {
                            "type": "string",
                            "description": "支持的输出格式"
                        }
                    }
                },
                "description": "转码预设响应"
            },
            "VideoConfig": {
                "type": "object",
                "properties": {
                    "resolution": {
                        "type": "string",
                        "description": "分辨率",
                        "example": "1280x720"
                    },
                    "width": {
                        "type": "integer",
                        "description": "宽度(px)",
                        "format": "int32"
                    },
                    "height": {
                        "type": "integer",
                        "description": "高度(px)",
                        "format": "int32"
                    },
                    "bitrate": {
                        "type": "integer",
                        "description": "码率",
                        "format": "int32"
                    },
                    "frameRate": {
                        "type": "integer",
                        "description": "帧率",
                        "format": "int32"
                    },
                    "codec": {
                        "type": "string",
                        "description": "编码器",
                        "example": "h264"
                    },
                    "quality": {
                        "type": "string",
                        "description": "质量设置"
                    },
                    "crf": {
                        "type": "integer",
                        "description": "CRF 值（H.264/H.265 可用）",
                        "format": "int32"
                    },
                    "speedPreset": {
                        "type": "string",
                        "description": "FFmpeg 速度预设（ultrafast..placebo）"
                    },
                    "container": {
                        "type": "string",
                        "description": "容器格式",
                        "example": "mp4"
                    }
                },
                "description": "视频配置"
            },
            "SubtitleSettings": {
                "type": "object",
                "properties": {
                    "subtitleUrl": {
                        "type": "string",
                        "description": "字幕文件URL",
                        "example": "https://example.com/subtitle.srt"
                    },
                    "language": {
                        "type": "string",
                        "description": "字幕语言",
                        "example": "zh-CN"
                    },
                    "fontName": {
                        "type": "string",
                        "description": "字体名称",
                        "example": "Arial"
                    },
                    "fontSize": {
                        "type": "integer",
                        "description": "字体大小",
                        "format": "int32",
                        "example": 16
                    },
                    "fontColor": {
                        "type": "string",
                        "description": "字体颜色",
                        "example": "#FFFFFF"
                    },
                    "embed": {
                        "type": "boolean",
                        "description": "是否嵌入字幕",
                        "example": true
                    }
                },
                "description": "字幕设置"
            },
            "TranscodingParameters": {
                "type": "object",
                "properties": {
                    "videoCodec": {
                        "type": "string",
                        "description": "视频编码器",
                        "example": "libx264"
                    },
                    "audioCodec": {
                        "type": "string",
                        "description": "音频编码器",
                        "example": "aac"
                    },
                    "videoBitrate": {
                        "type": "integer",
                        "description": "视频比特率",
                        "format": "int32",
                        "example": 3000
                    },
                    "audioBitrate": {
                        "type": "integer",
                        "description": "音频比特率",
                        "format": "int32",
                        "example": 128
                    },
                    "frameRate": {
                        "type": "number",
                        "description": "帧率",
                        "format": "double",
                        "example": 30
                    },
                    "width": {
                        "type": "integer",
                        "description": "分辨率宽度",
                        "format": "int32",
                        "example": 1920
                    },
                    "height": {
                        "type": "integer",
                        "description": "分辨率高度",
                        "format": "int32",
                        "example": 1080
                    },
                    "aspectRatio": {
                        "type": "string",
                        "description": "纵横比",
                        "example": "16:9"
                    },
                    "gopSize": {
                        "type": "integer",
                        "description": "GOP大小",
                        "format": "int32",
                        "example": 30
                    },
                    "preset": {
                        "type": "string",
                        "description": "编码预设",
                        "example": "fast"
                    },
                    "crf": {
                        "type": "integer",
                        "description": "CRF质量参数",
                        "format": "int32",
                        "example": 23
                    },
                    "audioSampleRate": {
                        "type": "integer",
                        "description": "音频采样率",
                        "format": "int32",
                        "example": 44100
                    },
                    "audioChannels": {
                        "type": "integer",
                        "description": "音频通道数",
                        "format": "int32",
                        "example": 2
                    },
                    "startTime": {
                        "type": "number",
                        "description": "开始时间（秒）",
                        "format": "double",
                        "example": 10
                    },
                    "duration": {
                        "type": "number",
                        "description": "持续时间（秒）",
                        "format": "double",
                        "example": 60
                    },
                    "removeAudio": {
                        "type": "boolean",
                        "description": "是否移除音频",
                        "example": false
                    },
                    "removeVideo": {
                        "type": "boolean",
                        "description": "是否移除视频",
                        "example": false
                    },
                    "watermark": {
                        "$ref": "#/components/schemas/WatermarkSettings"
                    },
                    "subtitle": {
                        "$ref": "#/components/schemas/SubtitleSettings"
                    },
                    "bframes": {
                        "type": "integer",
                        "format": "int32"
                    }
                },
                "description": "转码参数"
            },
            "WatermarkSettings": {
                "type": "object",
                "properties": {
                    "imageUrl": {
                        "type": "string",
                        "description": "水印图片URL",
                        "example": "https://example.com/watermark.png"
                    },
                    "position": {
                        "type": "string",
                        "description": "水印位置",
                        "example": "TOP_RIGHT",
                        "enum": [
                            "TOP_LEFT",
                            "TOP_RIGHT",
                            "BOTTOM_LEFT",
                            "BOTTOM_RIGHT",
                            "CENTER"
                        ]
                    },
                    "opacity": {
                        "type": "number",
                        "description": "水印透明度",
                        "format": "double",
                        "example": 0.5
                    },
                    "marginX": {
                        "type": "integer",
                        "description": "边距X",
                        "format": "int32",
                        "example": 10
                    },
                    "marginY": {
                        "type": "integer",
                        "description": "边距Y",
                        "format": "int32",
                        "example": 10
                    }
                },
                "description": "水印设置"
            },
            "FileInfo": {
                "type": "object",
                "properties": {
                    "fileId": {
                        "type": "string"
                    },
                    "originalFilename": {
                        "type": "string"
                    },
                    "fileSize": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "mimeType": {
                        "type": "string"
                    },
                    "md5Hash": {
                        "type": "string"
                    },
                    "storagePath": {
                        "type": "string"
                    },
                    "fileExtension": {
                        "type": "string"
                    },
                    "storageType": {
                        "type": "string"
                    },
                    "uploadTime": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updateTime": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "refCount": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "fileStatus": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "thumbnailPath": {
                        "type": "string"
                    },
                    "transcodingTaskId": {
                        "type": "string"
                    },
                    "metaDataId": {
                        "type": "string"
                    },
                    "video": {
                        "type": "boolean"
                    },
                    "audio": {
                        "type": "boolean"
                    },
                    "image": {
                        "type": "boolean"
                    }
                }
            }
        }
    }
}